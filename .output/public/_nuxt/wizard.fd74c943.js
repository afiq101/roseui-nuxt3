import{_ as E}from"./Breadcrumb.5e106003.js";import{V as L,p as x,B as j,W as S,X as h,i as V,o as d,c as D,w as f,e as _,y as z,b as p,F as O,r as q,u as c,t as w,k as B,E as $,Y as I,f as P,j as r,m as K,Z as R}from"./entry.5f4d3365.js";import{_ as T}from"./RsCard.a461e6bf.js";const W=["onClick","data-step-active","data-step-completed"],M={class:"counter"},X=["textContent"],Y=_("div",{class:"progress"},null,-1),Z={class:"form-wizard"},G={key:0,class:"flex justify-between"},H={__name:"RsWizard",props:{type:{type:String,default:"top"},steps:{type:Array,default:()=>["Default"]},currentStep:{type:String,default:""},form:{type:Boolean,default:!1},formSubmit:{type:Function,default:()=>{}},formAction:{type:Boolean,default:!0},formStepRequired:{type:Boolean,default:!0},formStepBack:{type:Boolean,default:!1},formNavigate:{type:Boolean,default:!0},formErrorCounter:{type:Boolean,default:!0}},setup(i){const m=i,n=L({}),o=x(m.currentStep),v=x(m.steps),y=x([]),C=e=>e.toLowerCase().replace(/\s/g,""),l=e=>v.value.indexOf(e);j(o,(e,a)=>{a&&!y.value.includes(a)&&y.value.push(a),y.value.forEach(u=>{const t=S(u);t!=null&&t.walk(s=>{s.store.set(h({key:"submitted",value:!0,visible:!1}))})})});const b=e=>{const a=Object.keys(n),u=a.indexOf(o.value),t=a.indexOf(e);if(m.formStepRequired){if(m.formStepBack)if(n[o.value].valid||u>t)o.value=e;else{const s=S(o.value);s&&s.walk(g=>{g.store.set(h({key:"submitted",value:!0,visible:!1}))})}else if(t>u)if(n[o.value].valid)o.value=e;else{const s=S(o.value);s&&s.walk(g=>{g.store.set(h({key:"submitted",value:!0,visible:!1}))})}}else o.value=e},k=e=>{const a=Object.keys(n),u=a.indexOf(o.value);b(a[u+e])},A=e=>{if(e.props.type=="group")return n[e.name]=n[e.name]||{},e.on("created",()=>{n[e.name].valid=R(e.context.state,"valid")}),e.on("count:errors",({payload:a})=>{n[e.name].errorCount=a}),e.on("count:blocking",({payload:a})=>{n[e.name].blockingCount=a}),o.value===""&&(o.value=e.name),!1},F=e=>{if(n[e])return(n[e].errorCount>0||n[e].blockingCount>0)&&y.value.includes(e)};return(e,a)=>{const u=V("FormKit");return d(),D(u,{type:"form",plugins:[A],actions:!!i.formAction,onSubmit:a[2]||(a[2]=t=>i.formSubmit?i.formSubmit():""),"form-class":{"top-form":i.type=="top","left-form":i.type=="left"}},{default:f(()=>[_("ul",{class:z({"top-steps":i.type=="top","left-steps":i.type=="left"})},[(d(!0),p(O,null,q(c(v),(t,s)=>(d(),p("li",{key:s,class:z(["step",{"has-errors":F(t)}]),onClick:g=>b(t),"data-step-active":c(o)===t,"data-step-completed":l(t)<l(c(o))},[_("div",M,w(s+1)+".",1),B(" "+w(t)+" ",1),F(t)?$((d(),p("span",{key:0,class:"step--errors",textContent:w(c(n)[t].errorCount+c(n)[t].blockingCount)},null,8,X)),[[I,i.formErrorCounter]]):P("",!0),Y],10,W))),128))],2),_("div",Z,[(d(!0),p(O,null,q(c(v),(t,s)=>$((d(),p("section",{key:s},[r(u,{type:"group",id:t,name:t},{default:f(()=>[K(e.$slots,t==="Default"?"default":C(t))]),_:2},1032,["id","name"])])),[[I,c(o)===t]])),128))]),i.formNavigate?(d(),p("div",G,[r(u,{type:"button",disabled:l(c(o))==0,onClick:a[0]||(a[0]=t=>k(-1)),textContent:"Previous step"},null,8,["disabled"]),r(u,{type:"button",disabled:l(c(o))==c(v).length-1,class:"next",onClick:a[1]||(a[1]=t=>k(1)),textContent:"Next step"},null,8,["disabled"])])):P("",!0)]),_:3},8,["plugins","actions","form-class"])}}},N={__name:"wizard",setup(i){x("contactInfo");const m=["Contact Info","Organization Info","Application"],n=["Contact","Organization","Application"];function o(){alert("Form submitted")}return(v,y)=>{const C=E,l=V("FormKit"),b=H,k=T;return d(),p("div",null,[r(C),r(k,null,{header:f(()=>[B(" Top Step ")]),body:f(()=>[r(b,{type:"top",steps:m,"form-submit":o,"form-action":!0,"form-step-required":!0,"form-step-back":!0,"form-navigate":!0,"form-error-counter":!1},{contactinfo:f(()=>[r(l,{type:"text",label:"*First name",help:"Please enter your first name",validation:"required","validation-visibility":"dirty"})]),organizationinfo:f(()=>[r(l,{type:"text",label:"Organization name",validation:"required","validation-visibility":"dirty"})]),_:1})]),_:1}),r(k,null,{header:f(()=>[B(" Left Step ")]),body:f(()=>[r(b,{type:"left",steps:n,"form-submit":o,"form-action":!0,"form-step-required":!0,"form-step-back":!0,"form-navigate":!1,"form-error-counter":!1},{contact:f(()=>[r(l,{type:"text",label:"*First name",help:"Please enter your first name",validation:"required","validation-visibility":"dirty"}),r(l,{type:"text",label:"*First name",help:"Please enter your first name",validation:"required","validation-visibility":"dirty"}),r(l,{type:"text",label:"*First name",help:"Please enter your first name",validation:"required","validation-visibility":"dirty"})]),organization:f(()=>[r(l,{type:"text",label:"Organization name"})]),_:1})]),_:1})])}}};export{N as default};
